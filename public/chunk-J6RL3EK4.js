import{$ as g,Aa as K,Ba as Q,Ea as X,Fa as Y,G as i,K as w,Ka as M,L as H,M as S,N as C,O as h,P as e,Q as t,R as d,W as _,Y as G,Z as n,_ as p,aa as m,ba as c,ca as R,fa as B,ga as k,ia as D,ja as P,pa as O,qa as V,r as I,ra as y,sa as j,ta as L,ua as U,va as $,wa as q,xa as z,ya as W,za as J}from"./chunk-SBQ7ARBD.js";function ie(a,l){a&1&&(e(0,"div",36),d(1,"input",37),n(2),m(3,"translate"),t()),a&2&&(i(2),g(" ",c(3,1,"HERITAGE.WIFE")," "))}function ne(a,l){a&1&&(e(0,"div",36),d(1,"input",38),n(2),m(3,"translate"),t()),a&2&&(i(2),g(" ",c(3,1,"HERITAGE.HUSBAND")," "))}function ae(a,l){a&1&&(e(0,"div",39),d(1,"i",40),e(2,"p"),n(3),m(4,"translate"),t()()),a&2&&(i(3),p(c(4,1,"HERITAGE.NO_HEIRS")))}function re(a,l){if(a&1&&(e(0,"tr")(1,"td",44)(2,"div",49),n(3),t(),e(4,"div",50),n(5),t()(),e(6,"td",51)(7,"span",52),n(8),t(),e(9,"div",53),d(10,"div",54),t()(),e(11,"td",46)(12,"div",55),n(13),m(14,"number"),e(15,"small",56),n(16,"DT"),t()()()()),a&2){let s=l.$implicit;i(3),p(s.name),i(2),p(s.note),i(3),p(s.shareFraction),i(2),G("width",s.sharePercent,"%"),i(3),g("",R(14,6,s.amount,"1.0-2")," ")}}function oe(a,l){if(a&1&&(e(0,"div",41)(1,"table",42)(2,"thead",43)(3,"tr")(4,"th",44),n(5),m(6,"translate"),t(),e(7,"th",45),n(8,"Part"),t(),e(9,"th",46),n(10,"Valeur"),t()()(),e(11,"tbody"),C(12,re,17,9,"tr",47),e(13,"tr",48)(14,"td",44),n(15),m(16,"translate"),t(),d(17,"td"),e(18,"td",46),n(19),m(20,"number"),t()()()()()),a&2){let s,r=_();i(5),p(c(6,4,"HERITAGE.HEIRS")),i(7),h("ngForOf",r.results),i(3),p(c(16,6,"HERITAGE.TOTAL")),i(4),g("",R(20,8,(s=r.heritageForm.get("netEstate"))==null?null:s.value,"1.0-2")," DT")}}var F=class a{constructor(l){this.fb=l;this.heritageForm=this.fb.group({netEstate:[1e4,[y.required,y.min(0)]],gender:["male"],husband:[!1],wife:[!0],father:[!0],mother:[!0],sons:[0],daughters:[0],siblings:[!1]})}heritageForm;results=[];ngOnInit(){console.log("Inheritance Calculator Initialized"),this.calculate(),this.heritageForm.valueChanges.subscribe(l=>{console.log("Changement d\xE9tect\xE9:",l),this.calculate()})}get isDeceasedMale(){return this.heritageForm.get("gender")?.value==="male"}calculate(){let l=this.heritageForm.value,s=l.netEstate||0,r=[],b=l.sons||0,f=l.daughters||0,E=b>0||f>0,N=b>0,te=l.siblings;if(this.isDeceasedMale&&l.wife){let o=E?.125:.25;r.push({name:"\xC9pouse",share:o,note:E?"1/8 (Enfants pr\xE9sents)":"1/4 (Pas d'enfants)"})}else if(!this.isDeceasedMale&&l.husband){let o=E?.25:.5;r.push({name:"\xC9poux",share:o,note:E?"1/4 (Enfants pr\xE9sents)":"1/2 (Pas d'enfants)"})}l.father&&(E?r.push({name:"P\xE8re",share:1/6,note:"1/6 (Enfants pr\xE9sents)",isFather:!0}):r.push({name:"P\xE8re",share:0,note:"Reste (Asaba)",isAsaba:!0,isFather:!0})),l.mother&&(E||te?r.push({name:"M\xE8re",share:1/6,note:"1/6 (Enfants ou Fratrie pr\xE9sents)"}):r.push({name:"M\xE8re",share:1/3,note:"1/3 (Ni enfants ni fratrie)"})),f>0&&!N&&(f===1?r.push({name:"Fille Unique",share:.5,note:"1/2 (Seule, sans fr\xE8re)"}):r.push({name:`Filles (${f})`,share:2/3,note:"2/3 (Pluralit\xE9, sans fr\xE8re)"}));let v=0;r.forEach(o=>{o.isAsaba||(v+=o.share)});let A=1;v>1&&(A=1/v),r.forEach(o=>{o.isAsaba?o.finalShare=0:o.finalShare=o.share*A});let u=1-v*A;if(u<0&&(u=0),u>0){if(N){let o=b*2+f,x=u/o;r.push({name:`Fils (${b})`,finalShare:x*2*b,note:"Asaba (2 parts/fils)"}),f>0&&r.push({name:`Filles (${f})`,finalShare:x*f,note:"Avec les fils (1 part/fille)"}),u=0}else if(l.father){let o=r.find(x=>x.isFather);o&&(o.finalShare+=u,o.note+=" + Reste"),u=0}}this.results=r.map(o=>({name:o.name,shareFraction:(o.finalShare*100).toFixed(2)+"%",sharePercent:o.finalShare*100,amount:Math.round(o.finalShare*s),note:o.note})),u>.001&&this.results.push({name:"Reste (Agnats \xE9loign\xE9s)",shareFraction:(u*100).toFixed(2)+"%",sharePercent:u*100,amount:Math.round(u*s),note:"Fr\xE8res, Oncles, ou Tr\xE9sor"})}static \u0275fac=function(s){return new(s||a)(w(J))};static \u0275cmp=H({type:a,selectors:[["app-inheritance-calculator"]],standalone:!1,decls:65,vars:38,consts:[[1,"row","g-4"],[1,"col-lg-4"],[1,"card","card-custom","h-100","bg-white"],[1,"card-header-custom"],[1,"mb-0"],[1,"fas","fa-sliders-h","me-2","text-success"],[1,"card-body"],[3,"formGroup"],[1,"mb-3"],[1,"form-label","small","fw-bold","text-muted"],["type","number","formControlName","netEstate",1,"form-control","form-control-lg","fw-bold","text-success"],[1,"mb-3","p-3","bg-light","rounded-3"],[1,"d-block","small","fw-bold","text-muted","mb-2"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","gender","value","male","id","gM",1,"btn-check"],["for","gM",1,"btn","btn-outline-success"],["type","radio","formControlName","gender","value","female","id","gF",1,"btn-check"],["for","gF",1,"btn","btn-outline-success"],[1,"small","fw-bold","text-muted"],[1,"d-flex","gap-2"],[1,"form-check","form-switch","bg-light","p-2","rounded","flex-fill"],["type","checkbox","formControlName","father",1,"form-check-input","ms-0","me-2"],["type","checkbox","formControlName","mother",1,"form-check-input","ms-0","me-2"],["class","form-check form-switch bg-light p-2 rounded",4,"ngIf"],[1,"row","g-2"],[1,"col-6"],["type","number","formControlName","sons",1,"form-control"],["type","number","formControlName","daughters",1,"form-control"],[1,"col-lg-8"],[1,"card","card-custom","h-100"],[1,"card-header-custom","bg-success","text-white","d-flex","align-items-center",2,"background","#0F5132 !important","color","white !important"],[1,"mb-0","text-white"],[1,"fas","fa-chart-pie","me-2"],[1,"card-body","p-0"],["class","text-center py-5 text-muted",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"form-check","form-switch","bg-light","p-2","rounded"],["type","checkbox","formControlName","wife",1,"form-check-input","ms-0","me-2"],["type","checkbox","formControlName","husband",1,"form-check-input","ms-0","me-2"],[1,"text-center","py-5","text-muted"],[1,"fas","fa-users-slash","fa-3x","mb-3","opacity-25"],[1,"table-responsive"],[1,"table","table-hover","align-middle","mb-0"],[1,"bg-light"],[1,"ps-4","py-3"],[1,"text-center"],[1,"text-end","pe-4"],[4,"ngFor","ngForOf"],[1,"bg-light","fw-bold","border-top"],[1,"fw-bold","text-dark"],[1,"small","text-muted"],[1,"text-center",2,"min-width","150px"],[1,"badge","bg-warning","text-dark","mb-1"],[1,"progress",2,"height","4px"],[1,"progress-bar","bg-success"],[1,"fw-bold","fs-5","text-success"],[1,"fs-6","text-muted"]],template:function(s,r){s&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),d(5,"i",5),n(6),m(7,"translate"),t()(),e(8,"div",6)(9,"form",7)(10,"div",8)(11,"label",9),n(12),m(13,"translate"),t(),d(14,"input",10),t(),e(15,"div",11)(16,"label",12),n(17),m(18,"translate"),t(),e(19,"div",13),d(20,"input",14),e(21,"label",15),n(22),m(23,"translate"),t(),d(24,"input",16),e(25,"label",17),n(26),m(27,"translate"),t()()(),e(28,"div",8)(29,"label",18),n(30),m(31,"translate"),t(),e(32,"div",19)(33,"div",20),d(34,"input",21),n(35),m(36,"translate"),t(),e(37,"div",20),d(38,"input",22),n(39),m(40,"translate"),t()()(),e(41,"div",8),C(42,ie,4,3,"div",23)(43,ne,4,3,"div",23),t(),e(44,"div",24)(45,"div",25)(46,"label",18),n(47),m(48,"translate"),t(),d(49,"input",26),t(),e(50,"div",25)(51,"label",18),n(52),m(53,"translate"),t(),d(54,"input",27),t()()()()()(),e(55,"div",28)(56,"div",29)(57,"div",30)(58,"h5",31),d(59,"i",32),n(60),m(61,"translate"),t()(),e(62,"div",33),C(63,ae,5,3,"div",34)(64,oe,21,11,"div",35),t()()()()),s&2&&(i(6),p(c(7,16,"HERITAGE.SECTION_PARAMS")),i(3),h("formGroup",r.heritageForm),i(3),p(c(13,18,"HERITAGE.NET_ESTATE")),i(5),p(c(18,20,"HERITAGE.DECEASED")),i(5),p(c(23,22,"HERITAGE.MALE")),i(4),p(c(27,24,"HERITAGE.FEMALE")),i(4),p(c(31,26,"HERITAGE.HEIRS")),i(5),g(" ",c(36,28,"HERITAGE.FATHER")," "),i(4),g(" ",c(40,30,"HERITAGE.MOTHER")," "),i(3),h("ngIf",r.isDeceasedMale),i(),h("ngIf",!r.isDeceasedMale),i(4),p(c(48,32,"HERITAGE.SONS")),i(5),p(c(53,34,"HERITAGE.DAUGHTERS")),i(8),p(c(61,36,"HERITAGE.SECTION_RESULTS")),i(3),h("ngIf",r.results.length===0),i(),h("ngIf",r.results.length>0))},dependencies:[B,k,U,V,$,O,q,j,L,z,W,D,X],styles:[".card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#198754;border-color:#198754}"]})};var le=[{path:"",component:F}],T=class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=S({type:a});static \u0275inj=I({imports:[M.forChild(le),M]})};var ee=class a{static \u0275fac=function(s){return new(s||a)};static \u0275mod=S({type:a});static \u0275inj=I({imports:[P,T,Q,K,Y.forChild()]})};export{ee as InheritanceModule};
